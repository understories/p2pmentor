# Mentorship Subgraph Manifest
# 
# Subgraph for indexing Arkiv mentorship entities on Mendoza testnet.
# 
# Reference: docs/graph_indexing_plan.md
# 
# Contract Details (Discovered via transaction inspection):
# - Main Contract: 0x00000000000000000000000000000061726b6976 (spells "arkiv" in hex)
# - Network: Mendoza testnet (OP Stack, Chain ID: 60138453056)
# - RPC: https://mendoza.hoodi.arkiv.network/rpc
#
# Note: Event signatures discovered via transaction analysis.
# ABI is minimal - may need refinement based on actual contract interface.

specVersion: 0.0.5
schema:
  file: ./schema.graphql

dataSources:
  - kind: ethereum
    name: ArkivContract
    network: mendoza
    source:
      address: "0x00000000000000000000000000000061726b6976"
      abi: ArkivContract
      startBlock: 0  # Start from genesis, or set to first block with entities
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Profile
        - SkillRef
        - Ask
        - Offer
        - Session
        - Feedback
      abis:
        - name: ArkivContract
          file: ./abis/Arkiv.json
      eventHandlers:
        - event: EntityCreated(indexed bytes32,indexed bytes32,indexed address,uint256)
          handler: handleEntityCreated
        - event: EntityStored(indexed bytes32,indexed bytes32,uint256)
          handler: handleEntityStored
      file: ./src/mappings/arkiv.ts

templates: []

